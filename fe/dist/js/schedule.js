$(document).ready(function(){"use strict";function e(){k=$(".time-table"),T=$(".detail.layer"),NavBar.init(),t(),k.on("click","button.favorite",o).on("click",".time-item",s),T.on("click","button.favorite",r).on("click","a.cancel",S)}function t(){var e=/id=(\d+)/.exec(window.location.search);return ScheduleService.timeTable({id:e?e[1]:1}).then(n,a)}function n(e){var t=e.data[0];t.times=i(t.trackList);var n=v(t);k.html(n)}function i(e){if(!e)return[];var t=["T1","T2","T3","T4"].map(function(t){var n=e.reduce(function(e,t){return e.concat(t.sessionList)},[]).filter(function(e){return e.time===t});return{time:t,timeInfo:Utils.getTimeInfoFromKey(t),sessions:n}});return t}function a(e){var t="타임 테이블 정보 로딩 실패, "+e.responseJSON.message;alert(t)}function r(e){return o(e,!0)}function o(e,t){if(e.preventDefault(),e.stopPropagation(),w){var n=$(e.target),i=t?".session-detail":".time-item",a=n.closest(i).data("id"),r=n.hasClass("on");return w=!1,ScheduleService.favorite({id:a},r).then(function(t){return c(t,e,a)},u).always(g)}}function c(e,t,n){var i=$(t.target);i.toggleClass("on")}function u(e){var t="세션 찜하기 실패, "+e.responseJSON.message;alert(t)}function s(e){e.preventDefault(),e.stopPropagation();var t=$(e.target).closest(".time-item");return $.when(ScheduleService.detail({id:t.data("id")}),ScheduleService.track({id:t.data("track-id")}),ScheduleService.speaker({id:t.data("speaker-id")})).then(l,d).always(g)}function l(e,t,n){var i=f(e[0].data[0],t[0].data[0],n[0].data[0]);m(i)}function f(e,t,n){return e.timeInfo=Utils.getTimeInfoFromKey(e.time),e.track=t,e.speaker=n,e}function d(e){var t="세션 상세 정보 로딩 실패, "+e.responseJSON.message;alert(t)}function m(e){var t=p(e);T.html(t),T.slideDown()}function v(e){return h("schedule",e||{})}function p(e){return h("detail",e||{})}function h(e,t){return Template[e](t)}function S(e){e.preventDefault(),T.slideUp()}function g(){w=!0}var k,T,w=!0;e()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9zcmMvanMvc2NoZWR1bGUuanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJpbml0IiwiJHRpbWVUYWJsZSIsIiRkZXRhaWwiLCJOYXZCYXIiLCJnZXRTY2hlZHVsZURhdGUiLCJvbiIsImZhdm9yaXRlSXRlbSIsInNob3dEZXRhaWxJdGVtIiwiZmF2b3JpdGVJdGVtSW5EZXRhaWwiLCJjbG9zZUxheWVyIiwiaWRzIiwiZXhlYyIsIndpbmRvdyIsImxvY2F0aW9uIiwic2VhcmNoIiwiU2NoZWR1bGVTZXJ2aWNlIiwidGltZVRhYmxlIiwiaWQiLCJ0aGVuIiwic3VjY2Vzc0dldFRpbWVUYWJsZSIsImZhaWxHZXRUaW1lVGFibGUiLCJyZXMiLCJkYXRhIiwidGltZXMiLCJjaGFuZ2VDb2x1bW4iLCJ0cmFja0xpc3QiLCJzY2hlZHVsZSIsImdldFNjaGVkdWxlRnJvbVRlbXBsYXRlIiwiaHRtbCIsIm1hcCIsInRpbWUiLCJzZXNzaW9ucyIsInJlZHVjZSIsImZsYXR0ZW4iLCJ0cmFjayIsImNvbmNhdCIsInNlc3Npb25MaXN0IiwiZmlsdGVyIiwic2Vzc2lvbiIsInRpbWVJbmZvIiwiVXRpbHMiLCJnZXRUaW1lSW5mb0Zyb21LZXkiLCJlcnJvciIsIm1lc3NhZ2UiLCJyZXNwb25zZUpTT04iLCJhbGVydCIsImUiLCJpc0RldGFpbCIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiYWpheERvbmUiLCIkdGFyZ2V0IiwidGFyZ2V0Iiwic2VsZWN0b3IiLCJjbG9zZXN0IiwiY2FuY2VsIiwiaGFzQ2xhc3MiLCJmYXZvcml0ZSIsInN1Y2Nlc3NGYXZvcml0ZUl0ZW0iLCJmYWlsRmF2b3JpdGVJdGVtIiwiYWx3YXlzIiwiaGFuZGxlQWpheERvbmUiLCJ0b2dnbGVDbGFzcyIsIiR0aW1lSXRlbSIsIndoZW4iLCJkZXRhaWwiLCJzcGVha2VyIiwic3VjY2Vzc0dldERldGFpbEl0ZW0iLCJmYWlsR2V0RGV0YWlsSXRlbSIsInJlc0RldGFpbCIsInJlc1RyYWNrIiwicmVzU3BlYWtlciIsImNvbWJpbmVEZXRhaWxJbmZvIiwib3BlbkxheWVyIiwiZ2V0RGV0YWlsRnJvbVRlbXBsYXRlIiwic2xpZGVEb3duIiwiZ2V0RE9NRnJvbVRlbXBsYXRlIiwidGVtcGxhdGVUeXBlIiwiVGVtcGxhdGUiLCJzbGlkZVVwIl0sIm1hcHBpbmdzIjoiQUFBQUEsRUFBRUMsVUFBVUMsTUFBTSxXQUNoQixZQU1BLFNBQVNDLEtBQ1BDLEVBQWFKLEVBQUUsZUFDZkssRUFBVUwsRUFBRSxpQkFFWk0sT0FBT0gsT0FDUEksSUFFQUgsRUFBV0ksR0FBRyxRQUFTLGtCQUFtQkMsR0FDL0JELEdBQUcsUUFBUyxhQUFjRSxHQUNyQ0wsRUFBUUcsR0FBRyxRQUFTLGtCQUFtQkcsR0FDL0JILEdBQUcsUUFBUyxXQUFZSSxHQU1sQyxRQUFTTCxLQUNQLEdBQUlNLEdBQU0sV0FBV0MsS0FBS0MsT0FBT0MsU0FBU0MsT0FFMUMsT0FBT0MsaUJBQWdCQyxXQUNyQkMsR0FBTVAsRUFBV0EsRUFBSSxHQUFSLElBQ1pRLEtBQUtDLEVBQXFCQyxHQUcvQixRQUFTRCxHQUFxQkUsR0FDNUIsR0FBSUMsR0FBT0QsRUFBSUMsS0FBSyxFQUNwQkEsR0FBS0MsTUFBUUMsRUFBYUYsRUFBS0csVUFDL0IsSUFBSUMsR0FBV0MsRUFBd0JMLEVBQ3ZDckIsR0FBVzJCLEtBQUtGLEdBT2xCLFFBQVNGLEdBQWNDLEdBQ3JCLElBQUtBLEVBQ0gsUUFHRixJQUFJRixJQUFTLEtBQU0sS0FBTSxLQUFNLE1BQU1NLElBQUksU0FBVUMsR0FDakQsR0FBSUMsR0FBV04sRUFBVU8sT0FBTyxTQUFVQyxFQUFTQyxHQUNqRCxNQUFPRCxHQUFRRSxPQUFPRCxFQUFNRSxrQkFDdkJDLE9BQU8sU0FBVUMsR0FDdEIsTUFBT0EsR0FBUVIsT0FBU0EsR0FHMUIsUUFDRUEsS0FBTUEsRUFDTlMsU0FBVUMsTUFBTUMsbUJBQW1CWCxHQUNuQ0MsU0FBVUEsSUFJZCxPQUFPUixHQUdULFFBQVNILEdBQWtCc0IsR0FDekIsR0FBSUMsR0FBVSxvQkFBc0JELEVBQU1FLGFBQWFELE9BQ3ZERSxPQUFNRixHQUdSLFFBQVNuQyxHQUFzQnNDLEdBQzdCLE1BQU94QyxHQUFhd0MsR0FBRyxHQUd6QixRQUFTeEMsR0FBY3dDLEVBQUdDLEdBR3hCLEdBRkFELEVBQUVFLGlCQUNGRixFQUFFRyxrQkFDR0MsRUFBTCxDQUlBLEdBQUlDLEdBQVV0RCxFQUFFaUQsRUFBRU0sUUFDZEMsRUFBVyxFQUFhLGtCQUFvQixhQUM1Q3BDLEVBQUtrQyxFQUFRRyxRQUFRRCxHQUFVL0IsS0FBSyxNQUNwQ2lDLEVBQVNKLEVBQVFLLFNBQVMsS0FHOUIsT0FGQU4sSUFBVyxFQUVKbkMsZ0JBQWdCMEMsVUFDckJ4QyxHQUFJQSxHQUNIc0MsR0FBUXJDLEtBQUssU0FBVUcsR0FDeEIsTUFBT3FDLEdBQW9CckMsRUFBS3lCLEVBQUc3QixJQUNsQzBDLEdBQ0FDLE9BQU9DLElBR1osUUFBU0gsR0FBcUJyQyxFQUFLeUIsRUFBRzdCLEdBQ3BDLEdBQUlrQyxHQUFVdEQsRUFBRWlELEVBQUVNLE9BQ2xCRCxHQUFRVyxZQUFZLE1BR3RCLFFBQVNILEdBQWtCakIsR0FDekIsR0FBSUMsR0FBVSxjQUFnQkQsRUFBTUUsYUFBYUQsT0FDakRFLE9BQU1GLEdBR1IsUUFBU3BDLEdBQWdCdUMsR0FDdkJBLEVBQUVFLGlCQUNGRixFQUFFRyxpQkFFRixJQUFJYyxHQUFZbEUsRUFBRWlELEVBQUVNLFFBQVFFLFFBQVEsYUFFcEMsT0FBT3pELEdBQUVtRSxLQUNQakQsZ0JBQWdCa0QsUUFBUWhELEdBQUk4QyxFQUFVekMsS0FBSyxRQUMzQ1AsZ0JBQWdCbUIsT0FBT2pCLEdBQUk4QyxFQUFVekMsS0FBSyxjQUMxQ1AsZ0JBQWdCbUQsU0FBU2pELEdBQUk4QyxFQUFVekMsS0FBSyxpQkFDNUNKLEtBQUtpRCxFQUFzQkMsR0FDM0JSLE9BQU9DLEdBSVgsUUFBU00sR0FBc0JFLEVBQVdDLEVBQVVDLEdBQ2xELEdBQUlqRCxHQUFPa0QsRUFBa0JILEVBQVUsR0FBRy9DLEtBQUssR0FBSWdELEVBQVMsR0FBR2hELEtBQUssR0FBSWlELEVBQVcsR0FBR2pELEtBQUssR0FDM0ZtRCxHQUFVbkQsR0FHWixRQUFTa0QsR0FBbUJQLEVBQVEvQixFQUFPZ0MsR0FJekMsTUFIQUQsR0FBTzFCLFNBQVdDLE1BQU1DLG1CQUFtQndCLEVBQU9uQyxNQUNsRG1DLEVBQU8vQixNQUFRQSxFQUNmK0IsRUFBT0MsUUFBVUEsRUFDVkQsRUFHVCxRQUFTRyxHQUFtQjFCLEdBQzFCLEdBQUlDLEdBQVUsbUJBQXFCRCxFQUFNRSxhQUFhRCxPQUN0REUsT0FBTUYsR0FHUixRQUFTOEIsR0FBV25ELEdBQ2xCLEdBQUkyQyxHQUFTUyxFQUFzQnBELEVBQ25DcEIsR0FBUTBCLEtBQUtxQyxHQUNiL0QsRUFBUXlFLFlBR1YsUUFBU2hELEdBQXlCTCxHQUNoQyxNQUFPc0QsR0FBbUIsV0FBWXRELE9BR3hDLFFBQVNvRCxHQUF1QnBELEdBQzlCLE1BQU9zRCxHQUFtQixTQUFVdEQsT0FHdEMsUUFBU3NELEdBQW9CQyxFQUFjdkQsR0FDekMsTUFBT3dELFVBQVNELEdBQWN2RCxHQUdoQyxRQUFTYixHQUFZcUMsR0FDbkJBLEVBQUVFLGlCQUNGOUMsRUFBUTZFLFVBR1YsUUFBU2xCLEtBQ1BYLEdBQVcsRUE3SmIsR0FBSWpELEdBQVlDLEVBRVpnRCxHQUFXLENBOEpmbEQiLCJmaWxlIjoic2NoZWR1bGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgJHRpbWVUYWJsZSwgJGRldGFpbDtcblxuICB2YXIgYWpheERvbmUgPSB0cnVlO1xuXG4gIGZ1bmN0aW9uIGluaXQgKCkge1xuICAgICR0aW1lVGFibGUgPSAkKCcudGltZS10YWJsZScpO1xuICAgICRkZXRhaWwgPSAkKCcuZGV0YWlsLmxheWVyJyk7XG5cbiAgICBOYXZCYXIuaW5pdCgpO1xuICAgIGdldFNjaGVkdWxlRGF0ZSgpO1xuXG4gICAgJHRpbWVUYWJsZS5vbignY2xpY2snLCAnYnV0dG9uLmZhdm9yaXRlJywgZmF2b3JpdGVJdGVtKVxuICAgICAgICAgICAgICAub24oJ2NsaWNrJywgJy50aW1lLWl0ZW0nLCBzaG93RGV0YWlsSXRlbSk7XG4gICAgJGRldGFpbC5vbignY2xpY2snLCAnYnV0dG9uLmZhdm9yaXRlJywgZmF2b3JpdGVJdGVtSW5EZXRhaWwpXG4gICAgICAgICAgIC5vbignY2xpY2snLCAnYS5jYW5jZWwnLCBjbG9zZUxheWVyKVxuICB9XG5cbiAgLy8gVE9ETzpcbiAgLy8gIO2YhOyerCBxdWVyeSBzdHJpbmcg7JeQIGlkIOygleuztOuhnCBjb25mZW5yZW5jZSBJZCDsoJXrs7Trpbwg67CU6r+U7IScIOyhsO2ajO2VoCDsiJgg7J6I64ukLlxuICAvLyAg6re465+w642wIOydtOqxtCDthqDsnZjtlZwg64K07Jqp7J20IOyVhOuLjCwg7YWM7Iqk7Yq466W8IOychO2VtCDsnoTsi5zroZwg7LaU6rCA7ZWcIOq4sOuKpeydtOuLpC5cbiAgZnVuY3Rpb24gZ2V0U2NoZWR1bGVEYXRlICgpIHtcbiAgICB2YXIgaWRzID0gL2lkPShcXGQrKS8uZXhlYyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcblxuICAgIHJldHVybiBTY2hlZHVsZVNlcnZpY2UudGltZVRhYmxlKHtcbiAgICAgIGlkOiAoIWlkcykgPyAxIDogaWRzWzFdXG4gICAgfSkudGhlbihzdWNjZXNzR2V0VGltZVRhYmxlLCBmYWlsR2V0VGltZVRhYmxlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN1Y2Nlc3NHZXRUaW1lVGFibGUgKHJlcykge1xuICAgIHZhciBkYXRhID0gcmVzLmRhdGFbMF07XG4gICAgZGF0YS50aW1lcyA9IGNoYW5nZUNvbHVtbihkYXRhLnRyYWNrTGlzdCk7XG4gICAgdmFyIHNjaGVkdWxlID0gZ2V0U2NoZWR1bGVGcm9tVGVtcGxhdGUoZGF0YSk7XG4gICAgJHRpbWVUYWJsZS5odG1sKHNjaGVkdWxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiAg7ZiE7J6sIOyEnOuyhOyXkOyEnCDrgrTroKTsmKgg642w7J207YSw64qUIOyLnOqwhOydhCDquLDspIDsnLzroZwg64K066Ck7Jik7KeAIOyViuuKlOuLpC5cbiAgICogIO2KuOuemSDquLDspIDsnLzroZwg65CY7Ja0IOyeiOuKlCDrjbDsnbTthLDrpbwsIOyLnOqwhOydhCDquLDspIDsnLzroZwg67CU6r+U7JW8IO2VnOuLpC5cbiAgICovXG4gIGZ1bmN0aW9uIGNoYW5nZUNvbHVtbiAodHJhY2tMaXN0KSB7XG4gICAgaWYgKCF0cmFja0xpc3QpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICB2YXIgdGltZXMgPSBbJ1QxJywgJ1QyJywgJ1QzJywgJ1Q0J10ubWFwKGZ1bmN0aW9uICh0aW1lKSB7XG4gICAgICB2YXIgc2Vzc2lvbnMgPSB0cmFja0xpc3QucmVkdWNlKGZ1bmN0aW9uIChmbGF0dGVuLCB0cmFjaykge1xuICAgICAgICByZXR1cm4gZmxhdHRlbi5jb25jYXQodHJhY2suc2Vzc2lvbkxpc3QpO1xuICAgICAgfSwgW10pLmZpbHRlcihmdW5jdGlvbiAoc2Vzc2lvbikge1xuICAgICAgICByZXR1cm4gc2Vzc2lvbi50aW1lID09PSB0aW1lO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpbWU6IHRpbWUsXG4gICAgICAgIHRpbWVJbmZvOiBVdGlscy5nZXRUaW1lSW5mb0Zyb21LZXkodGltZSksXG4gICAgICAgIHNlc3Npb25zOiBzZXNzaW9uc1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIHJldHVybiB0aW1lcztcbiAgfVxuXG4gIGZ1bmN0aW9uIGZhaWxHZXRUaW1lVGFibGUgKGVycm9yKSB7XG4gICAgdmFyIG1lc3NhZ2UgPSAn7YOA7J6EIO2FjOydtOu4lCDsoJXrs7Qg66Gc65SpIOyLpO2MqCwgJyArIGVycm9yLnJlc3BvbnNlSlNPTi5tZXNzYWdlO1xuICAgIGFsZXJ0KG1lc3NhZ2UpO1xuICB9XG5cbiAgZnVuY3Rpb24gZmF2b3JpdGVJdGVtSW5EZXRhaWwgKGUpIHtcbiAgICByZXR1cm4gZmF2b3JpdGVJdGVtKGUsIHRydWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gZmF2b3JpdGVJdGVtIChlLCBpc0RldGFpbCkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmICghYWpheERvbmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgJHRhcmdldCA9ICQoZS50YXJnZXQpO1xuICAgIHZhciBzZWxlY3RvciA9IChpc0RldGFpbCkgPyAnLnNlc3Npb24tZGV0YWlsJyA6ICcudGltZS1pdGVtJztcbiAgICB2YXIgaWQgPSAkdGFyZ2V0LmNsb3Nlc3Qoc2VsZWN0b3IpLmRhdGEoJ2lkJyk7XG4gICAgdmFyIGNhbmNlbCA9ICR0YXJnZXQuaGFzQ2xhc3MoJ29uJyk7XG4gICAgYWpheERvbmUgPSBmYWxzZTtcblxuICAgIHJldHVybiBTY2hlZHVsZVNlcnZpY2UuZmF2b3JpdGUoe1xuICAgICAgaWQ6IGlkXG4gICAgfSwgY2FuY2VsKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIHJldHVybiBzdWNjZXNzRmF2b3JpdGVJdGVtKHJlcywgZSwgaWQpO1xuICAgIH0sIGZhaWxGYXZvcml0ZUl0ZW0pXG4gICAgICAuYWx3YXlzKGhhbmRsZUFqYXhEb25lKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN1Y2Nlc3NGYXZvcml0ZUl0ZW0gKHJlcywgZSwgaWQpIHtcbiAgICB2YXIgJHRhcmdldCA9ICQoZS50YXJnZXQpO1xuICAgICR0YXJnZXQudG9nZ2xlQ2xhc3MoJ29uJyk7XG4gIH1cblxuICBmdW5jdGlvbiBmYWlsRmF2b3JpdGVJdGVtIChlcnJvcikge1xuICAgIHZhciBtZXNzYWdlID0gJ+yEuOyFmCDssJztlZjquLAg7Iuk7YyoLCAnICsgZXJyb3IucmVzcG9uc2VKU09OLm1lc3NhZ2U7XG4gICAgYWxlcnQobWVzc2FnZSk7XG4gIH1cblxuICBmdW5jdGlvbiBzaG93RGV0YWlsSXRlbSAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgdmFyICR0aW1lSXRlbSA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy50aW1lLWl0ZW0nKTtcblxuICAgIHJldHVybiAkLndoZW4oXG4gICAgICBTY2hlZHVsZVNlcnZpY2UuZGV0YWlsKHtpZDogJHRpbWVJdGVtLmRhdGEoJ2lkJyl9KSxcbiAgICAgIFNjaGVkdWxlU2VydmljZS50cmFjayh7aWQ6ICR0aW1lSXRlbS5kYXRhKCd0cmFjay1pZCcpfSksXG4gICAgICBTY2hlZHVsZVNlcnZpY2Uuc3BlYWtlcih7aWQ6ICR0aW1lSXRlbS5kYXRhKCdzcGVha2VyLWlkJyl9KVxuICAgICkudGhlbihzdWNjZXNzR2V0RGV0YWlsSXRlbSwgZmFpbEdldERldGFpbEl0ZW0pXG4gICAgIC5hbHdheXMoaGFuZGxlQWpheERvbmUpO1xuICB9XG5cbiAgLy8g64KY7IGcIOy9lOuTnC4uLiBpbmRleCDtlZjrk5wg7L2U65Sp7J20IOunjuuEpC4uLlxuICBmdW5jdGlvbiBzdWNjZXNzR2V0RGV0YWlsSXRlbSAocmVzRGV0YWlsLCByZXNUcmFjaywgcmVzU3BlYWtlcikge1xuICAgIHZhciBkYXRhID0gY29tYmluZURldGFpbEluZm8ocmVzRGV0YWlsWzBdLmRhdGFbMF0sIHJlc1RyYWNrWzBdLmRhdGFbMF0sIHJlc1NwZWFrZXJbMF0uZGF0YVswXSk7XG4gICAgb3BlbkxheWVyKGRhdGEpO1xuICB9XG5cbiAgZnVuY3Rpb24gY29tYmluZURldGFpbEluZm8gKGRldGFpbCwgdHJhY2ssIHNwZWFrZXIpIHtcbiAgICBkZXRhaWwudGltZUluZm8gPSBVdGlscy5nZXRUaW1lSW5mb0Zyb21LZXkoZGV0YWlsLnRpbWUpO1xuICAgIGRldGFpbC50cmFjayA9IHRyYWNrO1xuICAgIGRldGFpbC5zcGVha2VyID0gc3BlYWtlcjtcbiAgICByZXR1cm4gZGV0YWlsO1xuICB9XG5cbiAgZnVuY3Rpb24gZmFpbEdldERldGFpbEl0ZW0gKGVycm9yKSB7XG4gICAgdmFyIG1lc3NhZ2UgPSAn7IS47IWYIOyDgeyEuCDsoJXrs7Qg66Gc65SpIOyLpO2MqCwgJyArIGVycm9yLnJlc3BvbnNlSlNPTi5tZXNzYWdlO1xuICAgIGFsZXJ0KG1lc3NhZ2UpO1xuICB9XG5cbiAgZnVuY3Rpb24gb3BlbkxheWVyIChkYXRhKSB7XG4gICAgdmFyIGRldGFpbCA9IGdldERldGFpbEZyb21UZW1wbGF0ZShkYXRhKTtcbiAgICAkZGV0YWlsLmh0bWwoZGV0YWlsKTtcbiAgICAkZGV0YWlsLnNsaWRlRG93bigpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U2NoZWR1bGVGcm9tVGVtcGxhdGUgKGRhdGEpIHtcbiAgICByZXR1cm4gZ2V0RE9NRnJvbVRlbXBsYXRlKCdzY2hlZHVsZScsIGRhdGEgfHwge30pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RGV0YWlsRnJvbVRlbXBsYXRlIChkYXRhKSB7XG4gICAgcmV0dXJuIGdldERPTUZyb21UZW1wbGF0ZSgnZGV0YWlsJywgZGF0YSB8fCB7fSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRET01Gcm9tVGVtcGxhdGUgKHRlbXBsYXRlVHlwZSwgZGF0YSkge1xuICAgIHJldHVybiBUZW1wbGF0ZVt0ZW1wbGF0ZVR5cGVdKGRhdGEpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VMYXllciAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAkZGV0YWlsLnNsaWRlVXAoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUFqYXhEb25lICgpIHtcbiAgICBhamF4RG9uZSA9IHRydWU7XG4gIH1cblxuICBpbml0KCk7XG59KTtcbiJdfQ==
